import{_ as D,r as c,t as L,m as V,q as $,o as a,c as o,s as A,b as t,x as b,y as m,F as g,z as F,g as C,l as r,w as H,v as q,p as P,k as z}from"./index-cd8cc0a9.js";import{_ as N,a as E}from"./Frame 427320860-93059560.js";import{_ as x}from"./Group 1321315262-022963cb.js";import{$ as M}from"./jquery-51e8cfbb.js";/* empty css                                                                */const j="/demo/assets/2024092613141-c35addb5.png",G="/demo/assets/输入框2-ab88e97d.png",J="/demo/assets/Frame 427321501-7ca829e1.png",d=e=>(P("data-v-91ba16eb"),e=e(),z(),e),K={class:"com"},O={class:"msg-box-h"},Q={class:"msg"},U=d(()=>t("img",{src:N,class:"avatar",alt:""},null,-1)),W={key:0,class:"msg-box-a"},X=d(()=>t("img",{src:E,class:"avatar",alt:""},null,-1)),Y={key:0,class:"ai-text"},Z=["src","onClick"],ee=d(()=>t("div",{class:"line"},null,-1)),se={key:0,class:"bg",src:j,alt:""},te={key:1,class:"bg",src:G,alt:""},ae=d(()=>t("input",{type:"text",placeholder:"请输入您的问题（可以是一句话或词组）"},null,-1)),oe=d(()=>t("img",{src:J,alt:"",class:"send"},null,-1)),ie={key:1,class:"ai-icon",src:x,alt:""},le={__name:"AiChat2",props:{userMsg:{type:String,required:!0},aiMsgList:{type:Array,required:!0},showBtn:{type:Boolean,default:!0},isHiddenMenu:{type:Boolean,default:!0},showDetail:{type:Boolean,default:!0},showInput:{type:Boolean,default:!0},showRobot:{type:Boolean,default:!1},search2:{type:Boolean,default:!1}},emits:["toDetail","renderFinish","handleRobot","handleClick"],setup(e,{emit:B}){const I=c(null),_=c(""),h=c([]),y=c(!1),f=e,{userMsg:w,aiMsgList:p,showBtn:R}=L(f);let v=0;const S=setInterval(()=>{v<w.value.length?(_.value+=w.value[v],v++):(clearInterval(S),y.value=!0,k())},100);V(()=>f.aiMsgList,i=>{k()},{deep:!0});async function k(){for(const i of p.value){const l=c("");if(h.value.push({type:i.type,displayedValue:l}),i.type==="text")for(const s of i.value)l.value+=s,await $(),await new Promise(n=>setTimeout(n,50));else l.value=i.value,await new Promise(s=>setTimeout(s,200));await new Promise(s=>setTimeout(s,200)),M(".com")[0].scrollTop+=400,i.index===p.value.length&&(M(".com")[0].scrollTop+=1e4,setTimeout(()=>{u("renderFinish")},200))}}const u=B;return(i,l)=>(a(),o("div",{class:m([{wide:!e.isHiddenMenu},"box"])},[A(i.$slots,"other",{},void 0,!0),t("div",K,[t("div",{class:"com-con",ref_key:"comConRef",ref:I},[t("div",O,[t("div",Q,b(_.value),1),U]),y.value?(a(),o("div",W,[X,t("div",{class:m(["msg",{msg_wide:!e.isHiddenMenu}])},[(a(!0),o(g,null,F(h.value,(s,n)=>(a(),o(g,{key:n},[s.type==="text"?(a(),o("div",Y,b(s.displayedValue),1)):s.type==="img"?(a(),o("img",{key:1,src:s.displayedValue,alt:"Image",class:m(`image-${n}`),onClick:T=>u("handleClick",T,n)},null,10,Z)):r("",!0)],64))),128)),C(R)&&C(p).length===h.value.length&&e.showDetail?(a(),o(g,{key:0},[ee,t("div",{class:"btn",onClick:l[0]||(l[0]=s=>u("toDetail"))},"查看详情")],64)):r("",!0)],2)])):r("",!0)],512)]),e.showInput?(a(),o("div",{key:0,class:m(["input",{wide_input:!e.isHiddenMenu}])},[e.search2?(a(),o("img",se)):(a(),o("img",te)),ae,oe],2)):r("",!0),e.isHiddenMenu?(a(),o("img",ie)):r("",!0),H(t("img",{class:"robot",src:x,alt:"",onClick:l[1]||(l[1]=s=>u("handleRobot"))},null,512),[[q,e.showRobot]])],2))}},me=D(le,[["__scopeId","data-v-91ba16eb"]]);export{me as A};
