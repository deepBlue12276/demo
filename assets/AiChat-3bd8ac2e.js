import{_ as A,a as H}from"./Frame 427320860-93059560.js";import{_ as L,a as S}from"./Box Wrapper-8fbc4c14.js";/* empty css                                                               */import{_ as V,r as n,t as q,q as D,m as P,o as t,c as a,b as i,x,y,F as g,z,g as F,l as u,p as N,k as E}from"./index-1caf0ade.js";const d=o=>(N("data-v-509271b9"),o=o(),E(),o),R={class:"msg-box-h"},$={class:"msg"},j=d(()=>i("img",{src:A,class:"avatar",alt:""},null,-1)),G={key:0,class:"msg-box-a"},J=d(()=>i("img",{src:H,class:"avatar",alt:""},null,-1)),K={key:0,class:"ai-text"},O=["src"],Q=d(()=>i("div",{class:"line"},null,-1)),U={key:0,src:L,alt:""},W={key:1,src:S,alt:""},X=d(()=>i("input",{type:"text",placeholder:"请输入您的问题（可以是一句话或词组）"},null,-1)),Y={__name:"AiChat",props:{userMsg:{type:String,required:!0},aiMsgList:{type:Array,required:!0},showBtn:{type:Boolean,default:!0},isHiddenMenu:{type:Boolean,default:!0}},emits:["toDetail","complete","handleClick"],setup(o,{expose:M,emit:C}){const h=n(""),r=n([]),f=n(!1),B=o,{userMsg:k,aiMsgList:w,showBtn:I}=q(B);let m=0;const T=setInterval(()=>{m<k.value.length?(h.value+=k.value[m],m++):(clearInterval(T),f.value=!0,b())},100);async function b(){for(const l of w.value){const s=n("");if(r.value.push({type:l.type,displayedValue:s}),l.type==="text")for(const e of l.value)s.value+=e,await D(),await new Promise(_=>setTimeout(_,50));else s.value=l.value,await new Promise(e=>setTimeout(e,200));await new Promise(e=>setTimeout(e,200))}console.log(r.value)}const p=n(!1);P(()=>r.value.length,l=>{l===w.value.length&&(p.value=!0,setTimeout(()=>c("complete"),200))});const c=C,v=n();return M({scrollTo:l=>{v.value&&(v.value.scrollTop=l)}}),(l,s)=>(t(),a("div",{class:y([{wide:!o.isHiddenMenu},"box"])},[i("div",{ref_key:"scrollBox",ref:v,class:"scroll-wrap",onClick:s[1]||(s[1]=e=>c("handleClick",e)),onMousemove:s[2]||(s[2]=e=>c("handleClick",e))},[i("div",R,[i("div",$,x(h.value),1),j]),f.value?(t(),a("div",G,[J,i("div",{class:y(["msg",{msg_wide:!o.isHiddenMenu}])},[(t(!0),a(g,null,z(r.value,(e,_)=>(t(),a(g,{key:_},[e.type==="text"?(t(),a("div",K,x(e.displayedValue),1)):e.type==="img"?(t(),a("img",{key:1,src:e.displayedValue,alt:"Image"},null,8,O)):u("",!0)],64))),128)),F(I)&&p.value?(t(),a(g,{key:0},[Q,i("div",{class:"btn",onClick:s[0]||(s[0]=e=>c("toDetail"))},"查看详情")],64)):u("",!0)],2)])):u("",!0)],544),p.value?(t(),a("div",{key:0,class:y(["input",{wide_input:!o.isHiddenMenu}])},[o.isHiddenMenu?(t(),a("img",U)):(t(),a("img",W)),X],2)):u("",!0)],2))}},oe=V(Y,[["__scopeId","data-v-509271b9"]]);export{oe as A};
