import{_ as H,a as L}from"./Frame 427320860-93059560.js";import{_ as S,a as V}from"./Box Wrapper-8fbc4c14.js";/* empty css                                                               */import{_ as q,r as n,t as A,q as D,m as P,o as s,c as t,b as l,x as k,y as v,F as g,z,g as F,l as c,p as N,k as E}from"./index-cd8cc0a9.js";const u=a=>(N("data-v-14d0c677"),a=a(),E(),a),R={class:"msg-box-h"},$={class:"msg"},j=u(()=>l("img",{src:H,class:"avatar",alt:""},null,-1)),G={key:0,class:"msg-box-a"},J=u(()=>l("img",{src:L,class:"avatar",alt:""},null,-1)),K={key:0,class:"ai-text"},O=["src"],Q=u(()=>l("div",{class:"line"},null,-1)),U={key:0,src:S,alt:""},W={key:1,src:V,alt:""},X=u(()=>l("input",{type:"text",placeholder:"请输入您的问题（可以是一句话或词组）"},null,-1)),Y={__name:"AiChat",props:{userMsg:{type:String,required:!0},aiMsgList:{type:Array,required:!0},showBtn:{type:Boolean,default:!0},isHiddenMenu:{type:Boolean,default:!0}},emits:["toDetail","complete"],setup(a,{expose:M,emit:B}){const y=n(""),r=n([]),h=n(!1),I=a,{userMsg:f,aiMsgList:w,showBtn:T}=A(I);let d=0;const b=setInterval(()=>{d<f.value.length?(y.value+=f.value[d],d++):(clearInterval(b),h.value=!0,C())},100);async function C(){for(const o of w.value){const i=n("");if(r.value.push({type:o.type,displayedValue:i}),o.type==="text")for(const e of o.value)i.value+=e,await D(),await new Promise(_=>setTimeout(_,50));else i.value=o.value,await new Promise(e=>setTimeout(e,200));await new Promise(e=>setTimeout(e,200))}console.log(r.value)}const m=n(!1);P(()=>r.value.length,o=>{o===w.value.length&&(m.value=!0,setTimeout(()=>x("complete"),200))});const x=B,p=n();return M({scrollTo:o=>{p.value&&(p.value.scrollTop=o)}}),(o,i)=>(s(),t("div",{class:v([{wide:!a.isHiddenMenu},"box"])},[l("div",{ref_key:"scrollBox",ref:p,class:"scroll-wrap"},[l("div",R,[l("div",$,k(y.value),1),j]),h.value?(s(),t("div",G,[J,l("div",{class:v(["msg",{msg_wide:!a.isHiddenMenu}])},[(s(!0),t(g,null,z(r.value,(e,_)=>(s(),t(g,{key:_},[e.type==="text"?(s(),t("div",K,k(e.displayedValue),1)):e.type==="img"?(s(),t("img",{key:1,src:e.displayedValue,alt:"Image"},null,8,O)):c("",!0)],64))),128)),F(T)&&m.value?(s(),t(g,{key:0},[Q,l("div",{class:"btn",onClick:i[0]||(i[0]=e=>x("toDetail"))},"查看详情")],64)):c("",!0)],2)])):c("",!0)],512),m.value?(s(),t("div",{key:0,class:v(["input",{wide_input:!a.isHiddenMenu}])},[a.isHiddenMenu?(s(),t("img",U)):(s(),t("img",W)),X],2)):c("",!0)],2))}},oe=q(Y,[["__scopeId","data-v-14d0c677"]]);export{oe as _};
